<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=1.0">
    <title>תרגיל ברור ערכים אישיים</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Heebo', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        // האייקונים
        const RotateCcw = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="1 4 1 10 7 10"></polyline>
                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
            </svg>
        );

        const ArrowRight = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
        );

        const GripVertical = ({ size = 24, className = '' }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="9" cy="12" r="1"></circle>
                <circle cx="9" cy="5" r="1"></circle>
                <circle cx="9" cy="19" r="1"></circle>
                <circle cx="15" cy="12" r="1"></circle>
                <circle cx="15" cy="5" r="1"></circle>
                <circle cx="15" cy="19" r="1"></circle>
            </svg>
        );

        // הקומפוננטה הראשית - העתיקי כאן את כל הקוד שצירפת
        const ValuesExercise = () => {
            const allValues = [
                'אדיבות', 'אהבה', 'אהבת המולדת', 'אומץ', 'אופטימיות', 'אושר', 'אותנטיות', 'אחדות', 'אחריות', 'איזון', 'אכפתיות', 'אמון', 'אמונה',
                'אמפתיה', 'אמת', 'אנושיות', 'אסרטיביות', 'אצילות', 'בהירות', 'בחירה', 'ביטחון', 'ביטוי עצמי', 'בין אדם לחברו', 'בריאות',
                'גאווה', 'גבורה', 'גמישות', 'דוגמא אישית', 'הבנה', 'הגיון', 'הגינות', 'הגנה', 'הגשמה', 'הדדיות', 'הובלה', 'הומור', 'הוקרת תודה',
                'הזדהות', 'הישגיות', 'החלטיות', 'הסתגלות', 'הסתפקות במועט', 'הערכה', 'הצלחה', 'הקשבה', 'הרמוניה', 'השפעה', 'התלהבות', 'התמדה',
                'חברות', 'חדשנות', 'חופש בחירה', 'חיים', 'חכמת חיים', 'חמלה', 'חריצות', 'ידע', 'יוזמה', 'יושר פנימי', 'יושרה', 'ייחודיות',
                'יסודיות', 'יעילות', 'יציבות', 'יצירתיות', 'כבוד', 'כבוד המשפחה', 'כיבוד האדם', 'כנות', 'למידה', 'לקיחת סיכונים',
                'מחויבות', 'מחילה', 'מיקוד במטרה', 'מנהיגות', 'מסורת', 'מסירות', 'מעורבות', 'מעשיות', 'מצוינות', 'מקוריות', 'מקצועיות',
                'משמעת עצמית', 'משפחה', 'נאמנות', 'נדיבות', 'נוחות', 'נחישות', 'ניקיון', 'נתינה', 'סבלנות', 'סדר', 'סובלנות', 'ספונטניות',
                'עבודת צוות', 'עזרה לזולת', 'ענווה', 'עצמאות', 'עקביות', 'פשטות', 'פתיחות', 'צדק', 'צמיחה', 'צניעות', 'קבלה עצמית',
                'רוגע', 'רוחניות', 'רעות', 'שאפתנות', 'שוויון', 'שותפות', 'שיתוף פעולה', 'שמחת חיים', 'תמימות', 'תעוזה', 'תקווה', 'תקשורת'
            ];

            const [stage, setStage] = useState(0);
            const [selectedValues, setSelectedValues] = useState([]);
            const [rankedValues, setRankedValues] = useState([]);
            const [draggedItem, setDraggedItem] = useState(null);

            const handleValueClick = (value) => {
                if (selectedValues.includes(value)) {
                    setSelectedValues(selectedValues.filter(v => v !== value));
                } else if (selectedValues.length < 5) {
                    setSelectedValues([...selectedValues, value]);
                }
            };

            const handleReset = () => {
                setSelectedValues([]);
            };

            const moveToStage2 = () => {
                setRankedValues(selectedValues.map((value, index) => ({ value, rank: index + 1 })));
                setStage(2);
            };

            const handleDragStart = (e, index) => {
                setDraggedItem(index);
                e.dataTransfer.effectAllowed = 'move';
            };

            const handleDragOver = (e, index) => {
                e.preventDefault();
                if (draggedItem === null || draggedItem === index) return;

                const newRanked = [...rankedValues];
                const draggedValue = newRanked[draggedItem];
                newRanked.splice(draggedItem, 1);
                newRanked.splice(index, 0, draggedValue);
                
                setDraggedItem(index);
                setRankedValues(newRanked.map((item, idx) => ({ ...item, rank: idx + 1 })));
            };

            const handleDragEnd = () => {
                setDraggedItem(null);
            };

            const backToStage1 = () => {
                setStage(1);
            };

            const canContinue = selectedValues.length === 5;

            return (
                <div className="bg-gradient-to-br from-gray-50 to-slate-100 overflow-hidden" style={{ width: '1200px', height: '675px' }}>
                    <div className="h-full flex flex-col">
                        <div className="bg-white border-b border-gray-200 py-2 px-4 text-center shadow-sm">
                            <h1 className="text-xl font-semibold text-gray-800">ערכים אישיים - תרגיל ברור ערכים אישיים</h1>
                        </div>

                        <div className="flex-1 overflow-hidden">
                            {stage === 0 && (
                                <div className="h-full flex items-center justify-center p-8">
                                    <div className="bg-white rounded-3xl shadow-lg p-12 max-w-4xl border border-gray-200">
                                        <h3 className="text-3xl font-semibold text-gray-800 mb-8 text-center">ברוכים הבאים לתרגיל ברור ערכים</h3>
                                        
                                        <div className="space-y-6 mb-8">
                                            <div className="bg-blue-50 rounded-2xl p-6 border border-blue-100">
                                                <h4 className="text-xl font-semibold text-gray-800 mb-3">שלב 1 - בחירת ערכים</h4>
                                                <p className="text-gray-700 mb-2 leading-relaxed">לפניכם רשימה של ערכים אישיים</p>
                                                <p className="text-gray-700 mb-2 leading-relaxed">יש לבחור מתוכם את <strong>חמשת הערכים המרכזיים</strong> החשובים ביותר בחיים האישיים והמקצועיים</p>
                                                <p className="text-gray-600 text-sm">💡 לחיצה על ערך תבחר אותו - ניתן לבחור עד 5 ערכים</p>
                                            </div>

                                            <div className="bg-purple-50 rounded-2xl p-6 border border-purple-100">
                                                <h4 className="text-xl font-semibold text-gray-800 mb-3">שלב 2 - דירוג הערכים</h4>
                                                <p className="text-gray-700 mb-2 leading-relaxed">לאחר הבחירה, יש לדרג את הערכים שנבחרו</p>
                                                <p className="text-gray-700 leading-relaxed">יש לסדר אותם לפי סדר החשיבות ומידת המקום שהם תופסים בחיים</p>
                                                <p className="text-gray-600 text-sm mt-2">💡 ניתן לגרור את הערכים כדי לסדר אותם</p>
                                            </div>
                                        </div>

                                        <button
                                            onClick={() => setStage(1)}
                                            className="w-full bg-gray-800 hover:bg-gray-900 text-white font-medium py-4 px-8 rounded-full transition-all text-lg flex items-center justify-center gap-3 shadow-md hover:shadow-lg"
                                        >
                                            התחל את התרגיל
                                            <ArrowRight size={22} />
                                        </button>
                                    </div>
                                </div>
                            )}

                            {/* שלב 1 ושלב 2 - העתיקי את כל שאר הקוד מהקובץ שצירפת */}
                            {/* ... */}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<ValuesExercise />, document.getElementById('root'));
    </script>
</body>
</html>
